(()=>{var e={394:e=>{function t(){this.subscribers={}}t.prototype.on=function(e,t){this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t)},t.prototype.emit=function(e){if(!this.subscribers[e])return;let t=[].slice.call(arguments,1);this.subscribers[e].forEach((function(e){e.apply(null,t)}))},e.exports.EventEmitter=t},672:(e,t,i)=>{const{EventEmitter:n}=i(394);let o,s=new n;[].slice.call(document.querySelectorAll(".marker")).forEach((function(e){e.style.backgroundColor=e.id,e.addEventListener("click",(function(){o=this.id,document.querySelector(".selected").classList.remove("selected"),this.classList.add("selected")}))}));let r=document.getElementById("paint"),c=r.getContext("2d");function d(){c.setTransform(1,0,0,1,0,0);let e=window.devicePixelRatio||1,t=r.clientWidth*e,i=r.clientHeight*e;if(t!==r.width||i!==r.height){let e=c.getImageData(0,0,r.width,r.height);r.width=t,r.height=i,c.putImageData(e,0,0)}c.scale(e,e),c.lineWidth=5,c.lineJoin="round",c.lineCap="round"}d(),window.addEventListener("resize",d);let a={x:0,y:0},l={x:0,y:0},u=!1;r.addEventListener("mousedown",(function(e){u=!0,a.x=e.pageX-this.offsetLeft,a.y=e.pageY-this.offsetTop})),r.addEventListener("mouseup",(function(){u=!1})),r.addEventListener("mousemove",(function(e){u&&(l.x=a.x,l.y=a.y,a.x=e.pageX-this.offsetLeft,a.y=e.pageY-this.offsetTop,s.draw(l,a,o,!0))})),s.draw=function(e,t,i,n){c.beginPath(),c.strokeStyle=i||"black",c.moveTo(e.x,e.y),c.lineTo(t.x,t.y),c.closePath(),c.stroke(),n&&s.emit("draw",e,t,i)},e.exports.whiteboard=s}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}(()=>{const{whiteboard:e}=i(672);e=window.whiteboard;let t=window.io(window.location.origin);t.on("connect",(function(){console.log("Connected!")})),t.on("load",(function(t){t.forEach((function(t){let i=t.start,n=t.end,o=t.color;e.draw(i,n,o,!1)}))})),t.on("draw",(function(t,i,n){e.draw(t,i,n,!1)})),e.on("draw",(function(e,i,n){t.emit("draw",e,i,n)}))})()})();